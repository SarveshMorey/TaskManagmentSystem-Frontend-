{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/api.service\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@angular/common\";\nfunction UsersComponent_tr_25_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\")(8, \"button\", 12);\n    i0.ɵɵlistener(\"click\", function UsersComponent_tr_25_Template_button_click_8_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const u_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.delete(u_r1));\n    });\n    i0.ɵɵtext(9, \"Delete\");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const u_r1 = ctx.$implicit;\n    const i_r2 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r2 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(u_r1.username);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(u_r1.email);\n  }\n}\nexport class UsersComponent {\n  constructor(api, fb) {\n    this.api = api;\n    this.fb = fb;\n    this.users = [];\n    // Use nonNullable for strict forms, no nulls\n    this.form = this.fb.nonNullable.group({\n      username: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email]],\n      password: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.load();\n  }\n  load() {\n    this.api.getUsers().subscribe(u => this.users = u);\n  }\n  add() {\n    if (this.form.invalid) return;\n    const payload = {\n      username: this.form.get('username').value,\n      email: this.form.get('email').value,\n      password: this.form.get('password').value\n    };\n    this.api.addUser(payload).subscribe(() => {\n      this.form.reset();\n      this.load();\n    });\n  }\n  delete(u) {\n    if (!u.userId) return;\n    if (confirm('Delete user?')) {\n      this.api.deleteUser(u.userId).subscribe(() => this.load());\n    }\n  }\n  static {\n    this.ɵfac = function UsersComponent_Factory(t) {\n      return new (t || UsersComponent)(i0.ɵɵdirectiveInject(i1.ApiService), i0.ɵɵdirectiveInject(i2.FormBuilder));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UsersComponent,\n      selectors: [[\"app-users\"]],\n      decls: 26,\n      vars: 3,\n      consts: [[1, \"container\", \"py-3\"], [1, \"mb-3\"], [1, \"row\", \"g-2\", \"mb-3\", 3, \"formGroup\", \"ngSubmit\"], [1, \"col-12\", \"col-md-3\"], [\"formControlName\", \"username\", \"placeholder\", \"Username\", 1, \"form-control\"], [1, \"col-12\", \"col-md-4\"], [\"formControlName\", \"email\", \"placeholder\", \"Email\", \"type\", \"email\", 1, \"form-control\"], [\"formControlName\", \"password\", \"placeholder\", \"Password\", \"type\", \"password\", 1, \"form-control\"], [1, \"col-12\", \"col-md-2\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"w-100\", 3, \"disabled\"], [1, \"table\", \"table-sm\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"btn\", \"btn-sm\", \"btn-outline-danger\", 3, \"click\"]],\n      template: function UsersComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"h3\", 1);\n          i0.ɵɵtext(2, \"Users\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(3, \"form\", 2);\n          i0.ɵɵlistener(\"ngSubmit\", function UsersComponent_Template_form_ngSubmit_3_listener() {\n            return ctx.add();\n          });\n          i0.ɵɵelementStart(4, \"div\", 3);\n          i0.ɵɵelement(5, \"input\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\", 5);\n          i0.ɵɵelement(7, \"input\", 6);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(8, \"div\", 3);\n          i0.ɵɵelement(9, \"input\", 7);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(10, \"div\", 8)(11, \"button\", 9);\n          i0.ɵɵtext(12, \"Add\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(13, \"table\", 10)(14, \"thead\")(15, \"tr\")(16, \"th\");\n          i0.ɵɵtext(17, \"#\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"th\");\n          i0.ɵɵtext(19, \"Username\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(20, \"th\");\n          i0.ɵɵtext(21, \"Email\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(22, \"th\");\n          i0.ɵɵtext(23, \"Actions\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(24, \"tbody\");\n          i0.ɵɵtemplate(25, UsersComponent_tr_25_Template, 10, 3, \"tr\", 11);\n          i0.ɵɵelementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"formGroup\", ctx.form);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngForOf\", ctx.users);\n        }\n      },\n      dependencies: [i3.NgForOf, i2.ɵNgNoValidate, i2.DefaultValueAccessor, i2.NgControlStatus, i2.NgControlStatusGroup, i2.FormGroupDirective, i2.FormControlName],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","UsersComponent","constructor","api","fb","nonNullable","group","username","required","email","password","ngOnInit","load","getUsers","subscribe","u","users","add","form","invalid","payload","get","value","addUser","reset","delete","userId","confirm","deleteUser","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\Admin\\Downloads\\springboot_tms_ready\\tsm\\src\\app\\users\\users.component.ts","C:\\Users\\Admin\\Downloads\\springboot_tms_ready\\tsm\\src\\app\\users\\users.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../services/api.service';\nimport { User } from '../models/task.model';\nimport { FormBuilder, Validators } from '@angular/forms';\n\n@Component({\n  selector: 'app-users',\n  templateUrl: './users.component.html'\n})\nexport class UsersComponent implements OnInit {\n  users: User[] = [];\n\n  // Use nonNullable for strict forms, no nulls\n  form = this.fb.nonNullable.group({\n    username: ['', Validators.required],\n    email: ['', [Validators.required, Validators.email]],\n    password: ['', Validators.required]\n  });\n\n  constructor(private api: ApiService, private fb: FormBuilder) {}\n\n  ngOnInit(): void {\n    this.load();\n  }\n\n  load(): void {\n    this.api.getUsers().subscribe(u => (this.users = u));\n  }\n\n  add(): void {\n    if (this.form.invalid) return;\n\n    const payload: User = {\n      username: this.form.get('username')!.value,\n      email: this.form.get('email')!.value,\n      password: this.form.get('password')!.value\n    };\n\n    this.api.addUser(payload).subscribe(() => {\n      this.form.reset();\n      this.load();\n    });\n  }\n\n  delete(u: User): void {\n    if (!u.userId) return;\n    if (confirm('Delete user?')) {\n      this.api.deleteUser(u.userId).subscribe(() => this.load());\n    }\n  }\n}\n","<div class=\"container py-3\">\n  <h3 class=\"mb-3\">Users</h3>\n\n  <form class=\"row g-2 mb-3\" [formGroup]=\"form\" (ngSubmit)=\"add()\">\n    <div class=\"col-12 col-md-3\">\n      <input formControlName=\"username\" class=\"form-control\" placeholder=\"Username\" />\n    </div>\n    <div class=\"col-12 col-md-4\">\n      <input formControlName=\"email\" class=\"form-control\" placeholder=\"Email\" type=\"email\" />\n    </div>\n    <div class=\"col-12 col-md-3\">\n      <input formControlName=\"password\" class=\"form-control\" placeholder=\"Password\" type=\"password\" />\n    </div>\n    <div class=\"col-12 col-md-2\">\n      <button class=\"btn btn-primary w-100\" type=\"submit\" [disabled]=\"form.invalid\">Add</button>\n    </div>\n  </form>\n\n  <table class=\"table table-sm table-striped\">\n    <thead>\n      <tr>\n        <th>#</th><th>Username</th><th>Email</th><th>Actions</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let u of users; let i = index\">\n        <td>{{ i + 1 }}</td>\n        <td>{{ u.username }}</td>\n        <td>{{ u.email }}</td>\n        <td>\n          <button class=\"btn btn-sm btn-outline-danger\" (click)=\"delete(u)\">Delete</button>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}